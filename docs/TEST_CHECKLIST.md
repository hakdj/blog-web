# 테스트 체크리스트

## ✅ 빌드 완료 확인
- [x] 로컬 빌드 성공
- [ ] Vercel 배포 성공 (Git 푸시 후 확인)

## 🔍 기본 기능 테스트

### 1. 홈페이지 (`/`)
- [ ] 접속 가능
- [ ] 공개 포스트 목록 표시 (데이터가 있다면)
- [ ] 포스트가 없을 때 메시지 표시
- [ ] "구독 시작하기" 버튼 동작
- [ ] "로그인" 버튼 동작

### 2. 로그인 페이지 (`/login`)
- [ ] 접속 가능
- [ ] 이메일 입력 필드 정상 작동
- [ ] 이메일 OTP 발송 테스트
- [ ] 이메일로 받은 링크 클릭 시 `/dashboard`로 리다이렉트

### 3. 가격 페이지 (`/pricing`)
- [ ] 접속 가능
- [ ] 구독 플랜 목록 표시 (Supabase에서 `plans` 테이블에 데이터 필요)
- [ ] 플랜 카드 UI 정상 표시
- [ ] "구독 시작하기" 버튼 동작
- [ ] 로그인하지 않은 사용자는 `/login`으로 리다이렉트

### 4. 대시보드 (`/dashboard`)
- [ ] 로그인 후 접속 가능
- [ ] 미로그인 시 `/login`으로 리다이렉트
- [ ] 구독 상태 표시
- [ ] 최근 결제 내역 표시
- [ ] 모든 포스트 목록 표시 (프리미엄 포함)

### 5. 포스트 상세 (`/post/[id]`)
- [ ] 공개 포스트 접근 가능
- [ ] 프리미엄 포스트는 구독 없이 접근 불가
- [ ] 구독자가 프리미엄 포스트 접근 가능
- [ ] 존재하지 않는 포스트 ID 처리

## 🔐 인증 테스트

### Supabase Auth
- [ ] 이메일 OTP 발송
- [ ] 이메일 링크 클릭 후 로그인
- [ ] 로그아웃 기능
- [ ] 인증 상태 유지 (새로고침 후에도)

## 💳 결제 테스트

### Portone 결제 플로우
- [ ] 가격 페이지에서 플랜 선택
- [ ] 결제 세션 생성 (`/api/checkout`)
- [ ] Portone 결제 페이지로 리다이렉트
- [ ] 결제 성공 후 콜백 처리 (`/api/billing/callback`)
- [ ] 결제 실패 처리
- [ ] 구독 정보 업데이트 확인

### 웹훅 테스트
- [ ] Portone 웹훅 수신 (`/api/webhooks/portone`)
- [ ] 서명 검증 동작
- [ ] 결제 성공 이벤트 처리
- [ ] 결제 실패 이벤트 처리

## 🗄️ 데이터베이스 테스트

### Supabase 테이블 확인
- [ ] `profiles` 테이블 - 사용자 생성 시 자동 생성
- [ ] `plans` 테이블 - 초기 데이터 (월간/연간 플랜) 존재
- [ ] `subscriptions` 테이블 - 결제 후 생성
- [ ] `payments` 테이블 - 결제 기록 저장
- [ ] `posts` 테이블 - 포스트 데이터

### RLS (Row Level Security) 정책 확인
- [ ] 공개 포스트는 누구나 읽기 가능
- [ ] 프리미엄 포스트는 구독자만 읽기 가능
- [ ] 사용자는 자신의 프로필만 조회 가능
- [ ] 사용자는 자신의 결제 내역만 조회 가능

## 🌐 API 엔드포인트 테스트

### Checkout API (`/api/checkout`)
- [ ] POST 요청 처리
- [ ] 인증되지 않은 사용자 거부
- [ ] 유효하지 않은 planId 처리
- [ ] 결제 세션 생성 성공

### Billing Callback (`/api/billing/callback`)
- [ ] 성공 케이스 리다이렉트
- [ ] 실패 케이스 리다이렉트
- [ ] 취소 케이스 리다이렉트

### Webhooks
- [ ] Portone 웹훅 수신 및 처리
- [ ] KG이니시스 웹훅 수신 및 처리 (사용 시)

## 🔧 환경 변수 확인

### Vercel 환경 변수
- [ ] `APP_URL` - 배포된 도메인
- [ ] `NEXT_PUBLIC_SUPABASE_URL` - Supabase 프로젝트 URL
- [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY` - Supabase 공개 키
- [ ] `SUPABASE_SERVICE_ROLE_KEY` - Supabase 서비스 키
- [ ] `PORTONE_API_KEY` - Portone API 키
- [ ] `PORTONE_API_SECRET` - Portone API Secret
- [ ] `PORTONE_WEBHOOK_SECRET` - Portone 웹훅 시크릿

## 📱 UI/UX 테스트

### 반응형 디자인
- [ ] 모바일 화면에서 정상 표시
- [ ] 태블릿 화면에서 정상 표시
- [ ] 데스크톱 화면에서 정상 표시

### 네비게이션
- [ ] Header 메뉴 동작
- [ ] 로그인 상태에 따른 메뉴 변경
- [ ] 링크 이동 정상 작동

## ⚠️ 에러 처리 테스트

- [ ] 데이터베이스 연결 실패 시 에러 처리
- [ ] 인증 실패 시 적절한 리다이렉트
- [ ] 404 페이지 처리
- [ ] API 에러 응답 처리

## 🚀 성능 테스트

- [ ] 페이지 로딩 속도
- [ ] API 응답 시간
- [ ] 이미지 최적화 (있는 경우)

## 📝 다음 단계

테스트 완료 후:
1. 실제 사용자 계정 생성
2. 테스트 포스트 작성
3. 실제 결제 테스트 (테스트 모드)
4. 프로덕션 배포 전 최종 검토

